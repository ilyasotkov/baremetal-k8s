bases:
- ../defaults.yaml

releases:

- name: namespaces
  installed: true
  namespace: kube-system
  labels:
    app: namespaces
    group: admin
  chart: incubator/raw
  version: 0.2.3
  values:
  - resources:
    - apiVersion: v1
      kind: Namespace
      metadata:
        name: monitoring
    - apiVersion: v1
      kind: Namespace
      metadata:
        name: fission
    - apiVersion: v1
      kind: Namespace
      metadata:
        name: logging

- name: metrics-server
  installed: true
  namespace: kube-system
  labels:
    app: metrics-server
    group: admin
  chart: stable/metrics-server
  version: 2.8.2
  values:
  - args:
    - --kubelet-insecure-tls
    - --kubelet-preferred-address-types=InternalIP
    resources:
      requests:
        cpu: 50m
        memory: 64Mi

- name: metallb
  installed: true
  namespace: kube-system
  chart: stable/metallb
  labels:
    app: metallb
  version: 0.9.6
  values:
  - configInline:
      address-pools:
      - name: default
        protocol: layer2
        addresses:
        - 192.168.10.100-192.168.10.150

- name: prom-operator
  installed: true
  namespace: monitoring
  labels:
    app: prom-operator
  chart: stable/prometheus-operator
  version: 5.12.3
  values:
  - fullnameOverride: prometheus-operator

- name: kubernetes-dashboard
  installed: true
  namespace: kube-system
  recreatePods: true
  labels:
    app: kubernetes-dashboard
  chart: stable/kubernetes-dashboard
  version: 1.5.2
  values: []

- name: rook-ceph
  installed: true
  namespace: kube-system
  labels:
    app: rook-ceph
  chart: rook-release/rook-ceph
  recreatePods: true
  values:
  - agent:
      flexVolumeDirPath: /var/lib/kubelet/volume-plugins
    image:
      prefix: rook
      repository: rook/ceph
      tag: master
      pullPolicy: IfNotPresent
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi
    rbacEnable: true
    pspEnable: true
    logLevel: WARNING
